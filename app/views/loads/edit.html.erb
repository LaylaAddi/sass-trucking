<h2><%= @load.company_profile.company_name %></h2>
<h3>
   <small> 
   <%= link_to load_path(@load) do %>
      <%= @load_origin_address.origin_city_state %>
         <%= @load_destination_address.destination_city_state %>  
   <% end %>
   </small>
</h3>
<%= simple_form_for(@load, html: { class: "input-sm" }) do |f| %>
<%= f.error_notification %>
<div class="col-sm-12 col-sm-offset-0 shadow round animated">
  <div class="well animated">
    <div class="row">
      <div class="col-sm-4">
        <div class="form-group input-group">  
          <span class="input-group-addon"><i class="fa fa-truck"></i></span>
          <%= f.collection_select :driver_user_id, @driver.all.order(:first_name),
            :id, :driver_name_and_type, include_blank: "Select Driver"  %>   
        </div>
      </div>
      <div class="col-sm-4">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-ship"></i></span>
          <%= f.collection_select :company_profile_id, @company_profile.all.order(:company_name),
            :id, :company_name, include_blank: "Broker/Shipper" %><br /> 
          <%= link_to "Add Broker", new_company_profile_path,
            class: "btn btn-info btn-xs round" %>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-arrows-h"></i></span>
          <%= f.input :broker_shipper_load_id, label: false, placeholder: "Broker Load ID" %>  
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-3">
        <div class="form-group input-group">
          <%= f.input :invoice_price, label: "Invoice Price"  %> 
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group input-group">
          <%= f.input :rate_to_driver, label: "Rate to O/O"  %>  
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group input-group">
          <%= f.input :percent_deducted, collection:
            Load::PercentageSelect, label: "Percentage" %>
          <!--<span class="input-group-addon"><i class="fa fa-percent"></i></span>-->
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group input-group">
          <!--<span class="input-group-addon"><i class="fa fa-clock-o"></i> </span>-->
          <%= f.input :status_name, collection: ApplicationRecord::LoadStatusStatus, 
            label: "Booking Status" %> 
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-2">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-wrench"></i></span>
          <%= f.input :equipment_type, collection: ApplicationRecord::EquipmentType, 
            label: false, include_blank: "Equipment Type" %>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-cubes"></i>
          </span>
          <%= f.input :commodity, label: false, placeholder: "Commodity" %>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-balance-scale"></i></span>
          <%= f.input :weight, label: false, placeholder: 'Weignt e.g "25000"' %>
        </div>
      </div>
      <div class="col-sm-2 col-sm-offset-0">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-balance-scale"></i></span>
          <!--<span class="input-group-addon">e.g. 33x22</span>-->
          <%= f.input :dimentions, label: false, placeholder: 'Dimentions' %>      
        </div>
      </div>
      <div class="col-sm-2">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-balance-scale"></i></span>
          <%= f.input :load_size, collection: ApplicationRecord::LoadSize, 
            label: false, include_blank: "e.g. 'FTL, LTL'" %>
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group input-group">
          <span class="input-group-addon">
            <p class="vertical-text">Consignor</p>
          </span>
          <h4>Pick Up</h4>
          <address>
            <strong><%= @load_origin_address.company %></strong><br> 
            <%= @load_origin_address.street  %>
            <br>
            <%= @load_origin_address.city %>
            <%= @load_origin_address.state  %>
            <%= @load_origin_address.zip  %>
            <br>
            <small>Phone: </small><%= @load_origin_address.phone  %><br />
            <small>Contact: </small><%= @load_origin_address.contact  %><br />
            <small>Notes: </small><%= @load_origin_address.notes %>
          </address>
          <%= link_to "Edit Pick Up Address", edit_load_address_path(@load, @load_origin_address), 
            class: "btn btn-success btn-xs round" %> 
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group input-group">
          <span class="input-group-addon">
            <p class="vertical-text">Consignee</p>
          </span>
          <h4>Destination </h4>
          <address>
            <strong><%= @load_destination_address.company %></strong><br>
            <%= @load_destination_address.street %>
            <br>
            <%= @load_destination_address.city %>
            <%= @load_destination_address.state %>
            <%= @load_destination_address.zip %>
            <br> 
            <small>Phone: </small><%= @load_destination_address.phone  %><br />
            <small>Contact: </small><%= @load_destination_address.contact  %><br /> 
            <small>Notes: </small><%= @load_destination_address.notes %>
          </address>
          <%= link_to "Edit Destination Address", edit_load_address_path(@load, @load_destination_address),    
            class: "btn btn-danger btn-xs round" %>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 col-sm-offset-3">
        <div class="form-group input-group">
          <span class="input-group-addon"><i class="fa fa-warning"></i></span>
          <%= f.input :special_instructions, label: false, 
            placeholder: "Special Instructions" %>
        </div>
      </div>
    </div>
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading1">
          <h4 class="panel-title">
            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="false" aria-controls="collapse1">
            Edit/Add Time Info
            </a>
          </h4>
        </div>
        <div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading1">
          <div class="panel-body">
            <div class="row">
              <div class="col-sm-6 col-sm-offset-0">
                <div class="form-group input-group">
                  <span class="input-group-addon">
                    <p class="vertical-text">Pick Up Time/Notes</p>
                  </span>
                  <%= f.input :pick_up_time, label: false, discard_month: true, 
                    discard_day: true, discard_year: true, 
                    prompt: {hour: 'Choose Hour', minute: 'Choose Minute'}, ampm: true %>
                  <%= f.input :pick_up_notes, label: false, placeholder: "Pick Up Notes" %>
                </div>
              </div>
              <div class="col-sm-6 col-sm-offset-0">
                <div class="form-group input-group">
                  <span class="input-group-addon">
                    <p class="vertical-text">Delivery Time/Notes</p>
                  </span>
                  <%= f.input :delivery_time, label: false,  discard_month: true, 
                    discard_day: true, discard_year: true, 
                    prompt: {hour: 'Choose Hour', minute: 'Choose Minute'}, ampm: true %>
                  <%= f.input :delivery_notes, label: false, placeholder: "Delivery Notes" %>  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3 col-sm-offset-0">
        <%= f.input :miles, label: false, placeholder: "Total Miles" %>
      </div>
    </div>
    <div class="form-actions pull-right">
      <%= f.button :submit, class: "btn btn-success btn-sm round" %>
      <%= link_to 'All Loads', loads_path, class: "btn btn-info btn-sm round" %>
    </div>
    <% end %>
  </div>
</div>
<%= render "edit_map_js" %>