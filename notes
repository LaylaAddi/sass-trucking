      <%= f.input :expense_type, 
        collection: ApplicationRecord::ExpenseType, label: false, 
        prompt: "Type of Expense" %>
create vedors

company profile is company carrier filter from list on create load

FF0000	BF3030	A60000	FF4040	FF7373
Secondary Color A:
009999	1D7373	006363	33CCCC	5CCCCC
Secondary Color B:
9FEE00	86B32D	679B00	B9F73E	C9F76F

#ff0039
<%= s.select :shipment_category_id, ShipmentCategory.all.map{ |category| [ category.name, category.id ]} %>
check for phone traker software
csv uploader downloader
<div class="col-sm-12 col-sm-offset-0 shadow round white-smoke">
  <div class="well white-smoke">
geo
 
time zones

slug

receipt uploader for expense 

load expense join in model for show to driver

show - hide div expense input jquery
trailer maint
truck maint


broker users
broker user admin can assign other broker users


receipts driver and office uploader relation between hrc fuel expense and owner

drivers have payments with total being for exapmple escrow at -1000 payment + 300 show remaining owe first week

created location and repair scaffold  need to add sub models 

rails g scaffold Account first_week_hb:decimal escrow_total:decimal notes_1 notes_2 acct_dec_1:decimal acct_dec_2:decimal acct_dec_3:decimal acct_str_1 acct_str_2 acct_str_3 acct_int_1:integer acct_int_2:integer
rails g scaffold Transaction week_pay:decimal escrow_pay:decimal trans_dec_1:decimal trans_dec_2::decimal trans_dec_3:decimal trans_int_1:integer trans_int_2:integer trans_str_1 trans_str_2 trans_str_3


<%= simple_form_for [@driver, @driver_statement] do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :notes %>
    <%= f.input :driver_user_id %>   


<%= f.collection_check_boxes(:load_ids, @loads, :id, :id)   %> 




  </div>



<table class="table table-bordered table-striped table-condensed table-responsive">
	<thead>
		<tr>
      <th>ID</th>
      <th>Booked On</th>
      <th>Description</th>
      <th>Driver</th>
      <th>Transactions</th>
      <th>Commodity</th>
      <th>Weight</th>
      <th>Load Size</th>
      <th>Rate</th>
      <th>Distance (Miles)</th>
      <th>Expense</th>
      <th>Trailer Type</th>
      <th>Status</th>
		</tr>
	</thead>

  <tbody>
    <% expense_running_total = 0.00 %>
    <% hrc_load_running_total = 0.00 %>
    <% total_miles = 0 %>
    <% driver_load_running_total = 0.00 %>
    <% booking_fee_running_total = 0.00 %>
    <% @loads.each do |load|if load.driver_statement_id.nil? %>

    <tr>
      <td>
        <%= link_to load do %>
        <%= load.id %>
        <% end %>
      </td>
      <td><%= (load.created_at.strftime("%A %B %-d, %Y")) %></td> 
      <td>
        <%= link_to load do %>
        <%= load.load_title %> 
        <% end %>
      </td>
      <td>

        <%= link_to driver_user_path(load.driver_user_id) do %>
        <%= load.driver_user.full_name %>
        <% end %>

      </td>
      <td>
        <% load.transactions.each do |le| %>
        (<%= le.expense_type %> <%= number_to_currency(le.debit) %> 
        <%= le.business_name %> <%= le.city %>)  
        <% expense_running_total = expense_running_total + le.debit %>
        <% end %>
      </td>
      <td><%= load.commodity %></td>
      <td><%= load.weight %></td>
      <td><%= load.load_size %></td>

      <td><%= number_to_currency(load.rate_to_driver) %></td>
      <td><%= load.miles %> </td>
      <td>
        <% load.transactions.each do |lt| %> 
        <%= number_to_currency(lt.debit) %>
        <% expense_running_total = expense_running_total + lt.debit %>
        <% end %>
      </td>

      <td><%= load.equipment_type %></td>
      <td><%= load.status_name %></td>
      <td><%= load.driver_statement_id %></td>
    </tr>
<% end %>
    <% hrc_load_running_total = hrc_load_running_total + load.rate %> 
    <% booking_fee_running_total = booking_fee_running_total + load.booking_fee %> 
    <% driver_load_running_total = driver_load_running_total + load.rate_to_driver %> 
    <% total_miles = total_miles + load.miles %>
    <% end %>
  </tbody>
</table>
<br>
<% driver_net = driver_load_running_total - expense_running_total %>
<% hrc_net = hrc_load_running_total - driver_load_running_total %>

<br />
<br /> 
    <% if !@driver_statement.id == "nil"  %> 
<table class="table table-bordered table-striped table-condensed table-responsive">
	<thead>
		<tr>
			<th>
				HRC Income
			</th>
			<th>
				Total Miles
			</th>
			<th>
				Net Income
			</th>
			<th>
				Net RPM
			</th>
			<th>
				Booking Fees
			</th>
			<th>
				Net + BF
			</th>
			<th>
				Expenses
			</th>
			<th>
				Gross Driver Income
			</th>
			<th>
				Driver Net Income
			</th>
			<th>
				Driver Gross RPM
			</th>
			<th>
				Driver Net RPM
			</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<%= number_to_currency(hrc_load_running_total) %>
			</td>
			<td>
				<%= total_miles %>
			</td>
			<td>
				<%= number_to_currency(hrc_net) %>
			</td>
			<td>
				<%= number_to_currency(hrc_net / total_miles) %>
			</td>
			<td>
				<%= number_to_currency(booking_fee_running_total) %>
			</td>
			<td>
				<%= number_to_currency((booking_fee_running_total) + (hrc_net)) %>
			</td>
			<td>
				<%= number_to_currency(expense_running_total) %>
			</td>
			<td>
				<%= number_to_currency(driver_load_running_total) %>
			</td>
			<td>
			<%= number_to_currency(driver_net) %>
			</td>
			<td>
				<%= number_to_currency(driver_load_running_total / total_miles) %>
			</td>
			<td>
			<%= number_to_currency(driver_net / total_miles) %>
			</td>
		</tr>
	</tbody>
</table>
<% end %>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>


      <%= label_tag :load_ids, load.id %>